(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},$={}.hasOwnProperty,_=function(a,b){function c(){this.constructor=a}for(var d in b)$.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},ab=[].slice;D={},l=10,T=!1,p=null,B=null,J=null,o=null,X=null,t=function(a){var b;return a=new c(a),O(),k(),T&&(b=U(a.absolute))?(u(b),v(a)):v(a,R)},U=function(a){var b;return b=D[a],b&&!b.transitionCacheDisabled?b:void 0},q=function(a){return null==a&&(a=!0),T=a},v=function(a,b){return null==b&&(b=function(){return function(){}}(this)),V("page:fetch",{url:a.absolute}),null!=X&&X.abort(),X=new XMLHttpRequest,X.open("GET",a.withoutHashForIE10compatibility(),!0),X.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),X.setRequestHeader("X-XHR-Referer",J),X.onload=function(){var c;return V("page:receive",{url:a.absolute}),(c=H())?(K(a),m.apply(null,s(c)),C(),L(),b(),V("page:load")):document.location.href=a.absolute},X.onloadend=function(){return X=null},X.onerror=function(){return document.location.href=a.absolute},X.send()},u=function(a){return null!=X&&X.abort(),m(a.title,a.body),I(a),V("page:restore")},k=function(){var a;return a=new c(p.url),D[a.absolute]={url:a.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},n(l)},F=function(a){return null==a&&(a=l),/^[\d]+$/.test(a)?l=parseInt(a):void 0},n=function(a){var b,c,d,e,f,g;for(d=Object.keys(D),b=d.map(function(a){return D[a].cachedAt}).sort(function(a,b){return b-a}),g=[],e=0,f=d.length;f>e;e++)c=d[e],D[c].cachedAt<=b[a]&&(V("page:expire",D[c]),g.push(delete D[c]));return g},m=function(b,c,d,e){return document.title=b,document.documentElement.replaceChild(c,document.body),null!=d&&a.update(d),S(),e&&r(),p=window.history.state,V("page:change"),V("page:update")},r=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(f=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),g=0,i=f.length;i>g;g++)if(e=f[g],""===(k=e.type)||"text/javascript"===k){for(b=document.createElement("script"),l=e.attributes,h=0,j=l.length;j>h;h++)a=l[h],b.setAttribute(a.name,a.value);b.appendChild(document.createTextNode(e.innerHTML)),d=e.parentNode,c=e.nextSibling,d.removeChild(e),d.insertBefore(b,c)}},P=function(a){return a.innerHTML=a.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),a},S=function(){var a,b;return a=(b=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[b.length-1],a&&document.activeElement!==a?a.focus():void 0},K=function(a){return(a=new c(a)).absolute!==J?window.history.pushState({turbolinks:!0,url:a.absolute},"",a.absolute):void 0},L=function(){var a,b;return(a=X.getResponseHeader("X-XHR-Redirected-To"))?(a=new c(a),b=a.hasNoHash()?document.location.hash:"",window.history.replaceState(p,"",a.href+b)):void 0},O=function(){return J=document.location.href},N=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},M=function(){return p=window.history.state},C=function(){var a;return navigator.userAgent.match(/Firefox/)&&!(a=new c).hasNoHash()?(window.history.replaceState(p,"",a.withoutHash()),document.location.hash=a.hash):void 0},I=function(a){return window.scrollTo(a.positionX,a.positionY)},R=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},G=function(a){var b,c;return b=(null!=(c=document.cookie.match(new RegExp(a+"=(\\w+)")))?c[1].toUpperCase():void 0)||"",document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",b},V=function(a,b){var c;return c=document.createEvent("Events"),b&&(c.data=b),c.initEvent(a,!0,!0),document.dispatchEvent(c)},E=function(){return!V("page:before-change")},H=function(){var a,b,c,d,e,f;return b=function(){var a;return 400<=(a=X.status)&&600>a},f=function(){return X.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},d=function(a){var b,c,d,e,f;for(e=a.head.childNodes,f=[],c=0,d=e.length;d>c;c++)b=e[c],null!=("function"==typeof b.getAttribute?b.getAttribute("data-turbolinks-track"):void 0)&&f.push(b.getAttribute("src")||b.getAttribute("href"));return f},a=function(a){var b;return B||(B=d(document)),b=d(a),b.length!==B.length||e(b,B).length!==B.length},e=function(a,b){var c,d,e,f,g;for(a.length>b.length&&(f=[b,a],a=f[0],b=f[1]),g=[],d=0,e=a.length;e>d;d++)c=a[d],Z.call(b,c)>=0&&g.push(c);return g},!b()&&f()&&(c=o(X.responseText),c&&!a(c))?c:void 0},s=function(b){var c;return c=b.querySelector("title"),[null!=c?c.textContent:void 0,P(b.body),a.get(b).token,"runScripts"]},a={get:function(a){var b;return null==a&&(a=document),{node:b=a.querySelector('meta[name="csrf-token"]'),token:null!=b&&"function"==typeof b.getAttribute?b.getAttribute("content"):void 0}},update:function(a){var b;return b=this.get(),null!=b.token&&null!=a&&b.token!==a?b.node.setAttribute("content",a):void 0}},e=function(){var a,b,c,d,e,f;b=function(a){return(new DOMParser).parseFromString(a,"text/html")},a=function(a){var b;return b=document.implementation.createHTMLDocument(""),b.documentElement.innerHTML=a,b},c=function(a){var b;return b=document.implementation.createHTMLDocument(""),b.open("replace"),b.write(a),b.close(),b};try{if(window.DOMParser)return e=b("<html><body><p>test"),b}catch(g){return d=g,e=a("<html><body><p>test"),a}finally{if(1!==(null!=e&&null!=(f=e.body)?f.childNodes.length:void 0))return c}},c=function(){function a(b){return this.original=null!=b?b:document.location.href,this.original.constructor===a?this.original:void this._parse()}return a.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},a.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},a.prototype.hasNoHash=function(){return 0===this.hash.length},a.prototype._parse=function(){var a;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,a=this.link,this.href=a.href,this.protocol=a.protocol,this.host=a.host,this.hostname=a.hostname,this.port=a.port,this.pathname=a.pathname,this.search=a.search,this.hash=a.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},a}(),d=function(a){function b(a){return this.link=a,this.link.constructor===b?this.link:(this.original=this.link.href,void b.__super__.constructor.apply(this,arguments))}return _(b,a),b.HTML_EXTENSIONS=["html"],b.allowExtensions=function(){var a,c,d,e;for(c=1<=arguments.length?ab.call(arguments,0):[],d=0,e=c.length;e>d;d++)a=c[d],b.HTML_EXTENSIONS.push(a);return b.HTML_EXTENSIONS},b.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},b.prototype._crossOrigin=function(){return this.origin!==(new c).origin},b.prototype._anchored=function(){var a;return(this.hash&&this.withoutHash())===(a=new c).withoutHash()||this.href===a.href+"#"},b.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+b.HTML_EXTENSIONS.join("|")+")?$","g"))},b.prototype._optOut=function(){var a,b;for(b=this.link;!a&&b!==document;)a=null!=b.getAttribute("data-no-turbolink"),b=b.parentNode;return a},b.prototype._target=function(){return 0!==this.link.target.length},b}(c),b=function(){function a(a){this.event=a,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(E()||W(this.link.href),this.event.preventDefault()))}return a.installHandlerLast=function(b){return b.defaultPrevented?void 0:(document.removeEventListener("click",a.handle,!1),document.addEventListener("click",a.handle,!1))},a.handle=function(b){return new a(b)},a.prototype._extractLink=function(){var a;for(a=this.event.target;a.parentNode&&"A"!==a.nodeName;)a=a.parentNode;return"A"===a.nodeName&&0!==a.href.length?this.link=new d(a):void 0},a.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},a.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},a}(),j=function(a){return setTimeout(a,500)},y=function(){return document.addEventListener("DOMContentLoaded",function(){return V("page:change"),V("page:update")},!0)},A=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(a,b){return jQuery.trim(b.responseText)?V("page:update"):void 0}):void 0},z=function(a){var b,d;return(null!=(d=a.state)?d.turbolinks:void 0)?(b=D[new c(a.state.url).absolute])?(k(),u(b)):W(a.target.location.href):void 0},x=function(){return N(),M(),o=e(),document.addEventListener("click",b.installHandlerLast,!0),window.addEventListener("hashchange",function(){return N(),M()},!1),j(function(){return window.addEventListener("popstate",z,!1)})},w=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),h=window.history&&window.history.pushState&&window.history.replaceState&&w,f=!navigator.userAgent.match(/CriOS\//),Q="GET"===(Y=G("request_method"))||""===Y,i=h&&f&&Q,g=document.addEventListener&&document.createEvent,g&&(y(),A()),i?(W=t,x()):W=function(a){return document.location.href=a},this.Turbolinks={visit:W,pagesCached:F,enableTransitionCache:q,allowLinkExtensions:d.allowExtensions,supported:i}}).call(this);